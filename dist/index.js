(()=>{var e={551:(e,t,n)=>{"use strict";n.r(t),n.d(t,{animate:()=>r});var r=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.2,o=Math.ceil(1/r);return e.image=t[Math.floor(n/o)],(n+=1)>=t.length*o&&(n=0),n}},144:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(645),o=n.n(r)()(!1);o.push([e.id,'.main-menu{display:grid;grid-template-rows:1fr 40px;grid-template-columns:1fr;height:100vh}.main-menu__body{display:flex;justify-content:center;align-items:center;flex-direction:column;font-size:2em}.main-menu__body button{font-size:1.2em}.main-menu__footer{display:flex;justify-content:center}.main-menu h1{text-align:center}.game-over{display:none;justify-content:center;align-items:center;flex-direction:column;font-size:2em;height:100vh}.game-over button{font-size:1.2em}.game-over h1{text-align:center}.controller__btn{width:50px;height:50px;margin:10px 10px;padding:0;user-select:none}.controller__btn:active{background-color:gray;color:#fff}.controller__btn:focus{outline:none}@media only screen and (max-width: 400px){.controller .controller__left-btns{left:10px}.controller .controller__right-btns{right:10px}}.controller__left-btns{position:absolute;display:flex;flex-direction:column;bottom:50px;left:50px}.controller__right-btns{position:absolute;display:flex;flex-direction:row;bottom:50px;right:50px}.pause__btn{width:50px;height:50px;position:absolute;top:20px;left:20px;padding:0}.pause__menu{position:absolute;width:100vw;height:100vh;background-color:#add8e6;display:flex;flex-direction:column;justify-content:center;align-items:center;top:0;left:0}.pause__menu__btn{margin:10px 0px;font-size:1.5em}.store{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh;width:100vw}.store__carousel-row{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.store__carousel-row button{width:50px;height:50px;position:relative}.store__carousel-row button span{position:absolute;width:30px;height:10px;background-color:gray}.store__carousel-row button:active{outline:none}.store__carousel-row button span:nth-child(1),.store__carousel-row .left span:nth-child(1){top:13px;transform:translate(-50%, 0) rotate(-45deg)}.store__carousel-row button span:nth-child(2),.store__carousel-row .left span:nth-child(2){top:calc(100% - 22px);transform:translate(-50%, 0) rotate(45deg)}.store__carousel-row button span:nth-child(1),.store__carousel-row .right span:nth-child(1){top:13px;transform:translate(-50%, 0) rotate(45deg)}.store__carousel-row button span:nth-child(2),.store__carousel-row .right span:nth-child(2){top:calc(100% - 22px);transform:translate(-50%, 0) rotate(-45deg)}.store__carousel-row__content__product{display:flex;flex-direction:column;justify-content:space-between;width:min(220px, 45vw);align-items:center}.store__carousel-row__content__product h1{width:100vw;text-align:center}.store__carousel-row__content__product button{width:150px}.store__carousel-row__content__product p{width:100vw;text-align:center}.store__carousel-row__content__product__img{height:min(200px, 40vw);width:min(200px, 40vw);display:flex;justify-content:center;align-items:center}.store__carousel-row__content__product__img img{height:min(200px, 40vw);max-width:min(200px, 40vw)}.store__btn{margin:20px 0px;font-size:2em;width:min(400px, 90vw)}html,body{padding:0;margin:0;overflow:hidden;font-family:"Avenir";color:#ececec;background-color:#add8e6}button{margin:10px 0px;padding:10px 40px;border-radius:50px;width:300px;border:none;background-color:#ececec;color:gray}button:hover{cursor:pointer}button:focus{outline:none}',""]);const i=o},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r,o,i=e[1]||"",a=e[3];if(!a)return i;if(t&&"function"==typeof btoa){var c=(n=a,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(o," */")),s=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[i].concat(s).concat([c]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var c=0;c<e.length;c++){var s=[].concat(e[c]);r&&o[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},561:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=n.p+"609cdf72ac025ade992d24a30c221001.svg"},419:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=n.p+"457ca02408f9922b22afc522290a4047.svg"},534:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=n.p+"4d92a69e3c94861cf62665e083a058fe.svg"},120:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=n.p+"bf1850c0e7b9464f45c2f3e89bf3be41.svg"},901:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=n.p+"6723a5d4e25c92a4664b3b5c465f8a8a.svg"},545:(e,t,n)=>{var r=n(379),o=n(144);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},379:(e,t,n)=>{"use strict";var r,o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function a(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},r=[],o=0;o<e.length;o++){var c=e[o],s=t.base?c[0]+t.base:c[0],u=n[s]||0,l="".concat(s," ").concat(u);n[s]=u+1;var f=a(l),d={css:c[1],media:c[2],sourceMap:c[3]};-1!==f?(i[f].references++,i[f].updater(d)):i.push({identifier:l,updater:y(d,t),references:1}),r.push(l)}return r}function s(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,l=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function f(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=l(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function d(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var h=null,p=0;function y(e,t){var n,r,o;if(t.singleton){var i=p++;n=h||(h=s(t)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0)}else n=s(t),r=d.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=a(n[r]);i[o].references--}for(var s=c(e,t),u=0;u<n.length;u++){var l=a(n[u]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}n=s}}}},279:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,r){var o=this;this.collides=function(e){var t=o.x+o.width>=e.x,n=o.x<=e.x+e.width,r=o.y+o.height>=e.y,i=o.y<=e.y+e.height;return t&&n&&r&&i},this.belowCollides=function(e){var t=o.x+o.width>=e.x,n=o.x<=e.x+e.width,r=o.y<=e.y+e.height;return t&&n&&r},this.topCollision=function(e){var t=o.x+o.width>=e.x,n=o.x<=e.x+e.width,r=o.y+o.height>=e.y,i=o.y+o.height<=e.y;return t&&n&&r&&i},this.sideCollision=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=!1);var r=o.x+o.width>=e.x-t,i=o.x<=e.x+e.width+t,a=o.y+o.height>=e.y+e.height+10,c=!n||o.y<=e.y+e.height;return r&&a&&i&&c},this.rightCollision=function(e,t){return void 0===t&&(t=0),o.sideCollision(e,t)&&e.x<o.x+o.width},this.leftCollision=function(e,t){return void 0===t&&(t=0),o.sideCollision(e,t)&&e.x>o.x},this.inFrame=function(e,t){var n=o.x-e[0]+o.width+50>0,r=o.x-e[0]<t.width;return n&&r},this.toRightOfFrame=function(e,t){return o.x-e[0]+o.width>t.width},this.x=e,this.y=t,this.width=n,this.height=r}},138:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n,r,o,i,a,c){var s=e.call(this,t,n,r,o)||this;return s.calculateGravityAndCollsions=function(e){var t=!1;return e.forEach((function(e){s.collides(e)&&(s.sideCollision(e)||(t=!0,s.y=e.y-s.height)),s.leftCollision(e,.5*Math.abs(s.velocityX))&&s.velocityX>0&&(s.velocityX=0,s.x=e.x-s.width),s.rightCollision(e,.5*Math.abs(s.velocityX))&&s.velocityX<0&&(s.velocityX=0,s.x=e.x+e.width)})),t?s.velocityY=s.velocityY>0?0:s.velocityY:s.velocityY+=s.gravity,t},s.update=function(e,t,n){void 0===n&&(n=!0);var r=!1;n&&(r=s.calculateGravityAndCollsions(t)),s.x+=Math.floor(s.velocityX*e)%s.maxSpeed,s.y+=Math.floor(s.velocityY*e)%s.maxSpeed;var o=r?4*s.drag:s.drag;if(0!=s.velocityX){var i=Math.abs(s.velocityX)-o;s.velocityX=i>0?i*(s.velocityX/Math.abs(s.velocityX)):0}0!=s.velocityY&&(i=Math.abs(s.velocityY)-s.drag,s.velocityY=i>0?i*(s.velocityY/Math.abs(s.velocityY)):0)},s.renderVelocity=function(e){e.strokeStyle="yellow",e.beginPath(),e.moveTo(100,100),e.lineTo(100+Math.floor(50*s.velocityX),100+Math.floor(50*s.velocityY)),e.closePath(),e.stroke()},s.onGround=function(e){var t=!1;return e.forEach((function(e){s.collides(e)&&(t=!0)})),t},s.getRelevantGrounds=function(e){return e.filter((function(e){return e.x+e.width>=s.x&&s.x+s.width<e.x+e.width+400}))},s.drag=a,s.maxSpeed=c,s.acceleration=i,s.velocityX=0,s.velocityY=0,s.gravity=.5,s}return o(t,e),t}(n(279).default);t.default=i},479:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.constructRobotImages=t.ROBOT_HEIGHT=void 0;var i=n(80),a=n(561),c=n(419),s=n(534),u=n(120),l=n(901);t.ROBOT_HEIGHT=50;var f=[];t.constructRobotImages=function(){[a.default,c.default,s.default,u.default,l.default].forEach((function(e){var t=new Image;t.src=e,f.push(t)}))};var d=function(e){function n(n,r,o){var i=e.call(this,n,r,50,t.ROBOT_HEIGHT,3,.1,10)||this;return i.render=function(e,t,n,r,o){i.inFrame(n,t)&&(i.forwardSpritesPosition=i.animate(i.forwardSprites,i.forwardSpritesPosition),e.drawImage(i.image,i.x-n[0]+o,i.y+n[1]+Math.floor(t.height/2)-r.height,i.width,i.height))},i.updateSprite=function(e,t){i.velocityX+=i.acceleration,i.switchDirection(),i.jump(t),i.update(e,i.getRelevantGrounds(t))},i.switchDirection=function(){Math.random()>.9&&(i.direction=-i.direction,i.acceleration=i.direction*i.velocity)},i.jump=function(e){Math.random()>.9&&i.onGround(e)&&(i.velocityY=-5)},i.direction=o,i.velocity=2,i.acceleration=i.direction*i.velocity,i.forwardSprites=f,i.forwardSpritesPosition=0,i.image=i.forwardSprites[0],i}return o(n,e),n.sort=function(e,t){return e.x-t.x},n}(i.default);t.default=d},80:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(551),a=function(e){function t(t,n,r,o,a,c,s){var u=e.call(this,t,n,r,o,a,c,s)||this;return u.animate=function(e,t,n){return void 0===n&&(n=.2),i.animate(u,e,t,n)},u}return o(t,e),t}(n(138).default);t.default=a}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={id:r,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="dist/";var r={};(()=>{"use strict";n.d(r,{i4:()=>Ct,cb:()=>jt,KQ:()=>St});const e=n.p+"d19786695efe996f6afa00088bce8ab7.svg";function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function n(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.backgroundColor="#4fc3f7",this.cloudColor="#ececec",this.clouds=[],this.width=10*t.width,this.height=t.height,this.cloud=new Image,this.cloud.src=e,this.cloud.width=50,this.generateClouds()}var r,o;return r=n,(o=[{key:"generateClouds",value:function(){for(var e=Math.floor(20*Math.random())+5,t=Math.floor(Math.random()*this.width/e),n=0;n<e;n++){var r={x:t,y:Math.floor(Math.random()*this.height/2),speed:.4*Math.random(),size:1+Math.random()};t+=Math.floor(Math.random()*this.width/e),this.clouds.push(r)}}},{key:"render",value:function(e,t,n){var r=this;e.fillStyle=this.backgroundColor,e.fillRect(0,0,t.width,t.height),this.clouds.forEach((function(t){e.drawImage(r.cloud,t.x-Math.floor(n[0]*t.speed)%r.width,t.y,Math.floor(200*t.size),Math.floor(100*t.size))}))}}])&&t(r.prototype,o),n}(),i=n(279);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=l(t);if(n){var o=l(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return s(this,e)});function o(e,t,n,i){var a,c,s,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),l=function(e,t){throw Error("NOT_IMPLEMENTED!!!")},(s="render")in(c=u(a=r.call(this,e,t,n,i)))?Object.defineProperty(c,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):c[s]=l,a}return o}(i.default);const d=n.p+"ed1d54b3fea059591e128baee192bf71.svg",h=n.p+"9f21f2736d2d80369770b461bf57ab98.svg",p=n.p+"9b096ef1d5a93a624d9ff84f383bfec9.svg";function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=new Image,O=new Image,E=new Image,P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=w(t);if(n){var o=w(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return b(this,e)});function o(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return v(this,o),x(g(n=r.call(this,e,t,50*i,50)),"render",(function(e,t,r,o,i){for(var a=t.height-r[1]-n.y,c=0;c<n.blocks;c++){var s=void 0;switch(c){case 0:s=n.leftGrass;break;case n.blocks-1:s=n.rightGrass;break;default:s=n.middleGrass}e.drawImage(s,n.x-r[0]+i+c*n.height,r[1]+n.y+Math.floor(t.height/2)-o.height,n.height,n.height)}e.fillStyle="#D7CCC8",e.fillRect(n.x-r[0]+i,r[1]+n.y+Math.floor(t.height/2)-o.height+n.height,n.width,a)})),n.blocks=i,n.leftGrass=_,n.rightGrass=O,n.middleGrass=E,n}return o}(f),k=n(80),M=n.n(k);const S=n.p+"ba1a00a75bcfac5ed22b3faf180c7645.svg",I=n.p+"31c37f9b2a99eab59c70d49ed1349afc.svg",j=n.p+"d711fc4db457f60dd039c9c2d00d2aeb.svg",C=n.p+"15e9908b7c64edc3f70b9c916b248cf8.svg",L=n.p+"861c5630edd324cbe3a54080266a501d.svg",T=n.p+"61b16eae207f992db904ddb3301110af.svg",R=n.p+"1616d863befcf1c62d2009cda16e9373.svg",z=n.p+"d1001da21c53e984fa85f946af1a0374.svg",B=n.p+"9352c4336d3cb7d3898dc3e272143caf.svg";var D=n(551);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?G(e):t}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=[],U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=F(t);if(n){var o=F(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return H(this,e)});function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),X(G(n=r.call(this,e,t,35,70)),"render",(function(e,t,r){r?n.frameIndex=(0,D.animate)(G(n),n.frames,n.frameIndex,.2):n.image=n.staticImage,e.drawImage(n.image,n.x,t.height/2-n.height-n.y,n.width,n.height)})),X(G(n),"flipDirection",(function(e){switch(e){case-1:n.x=90.25;break;case 1:n.x=44.75}})),n.frames=N,n.frameIndex=0,n.staticImage=new Image,n.staticImage.src=B,n.image=n.frames[n.frameIndex],n}return o}(i.default);function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var K=function(){function e(t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.name=n,this.description=r,this.img=o,this.price=i,this.bought=!1,this.equipped=!1}var t,n;return t=e,(n=[{key:"update",value:function(e){this.bought=e.bought,this.equipped=e.equipped}}])&&Y(t.prototype,n),e}();const J=n.p+"77c3c4d3c51fdf13c15055e28afd9bad.svg";function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$(this,"updateBalance",(function(){document.getElementById("storeBalance").innerHTML=t.balance})),$(this,"generateCarousel",(function(){var e=document.querySelector("#carousel");e.innerHTML="",t.products.forEach((function(n,r){var o=document.createElement("div");o.className="store__carousel-row__content__product";var i=document.createElement("h1");i.innerHTML=n.name;var a=new Image,c=document.createElement("div");c.className="store__carousel-row__content__product__img",a.src=n.img,c.appendChild(a);var s=document.createElement("p");s.innerHTML=n.description;var u=document.createElement("button");u.innerHTML="Buy - $"+n.price,u.addEventListener("click",t.buyItem),o.appendChild(i),o.appendChild(c),o.appendChild(s),n.bought?t.equipButtonDiv[r].appendChild(t.generateEquipButton(n)):o.appendChild(u),o.appendChild(t.equipButtonDiv[r]),e.appendChild(o)})),t.filterCarousel()})),$(this,"generateEquipButton",(function(e){var n=document.createElement("button");return e.equipped?(n.innerHTML="Deactivate",n.addEventListener("click",t.deactivateProduct)):(n.innerHTML="Equip!",n.addEventListener("click",t.equipProduct)),n})),$(this,"equipProduct",(function(e){var n=t.products[t.productIndex];n.equipped=!0,ne(t.products),t.equipButtonDiv[t.productIndex].innerHTML="",t.equipButtonDiv[t.productIndex].appendChild(t.generateEquipButton(n))})),$(this,"deactivateProduct",(function(e){var n=t.products[t.productIndex];n.equipped=!1,ne(t.products),t.equipButtonDiv[t.productIndex].innerHTML="",t.equipButtonDiv[t.productIndex].appendChild(t.generateEquipButton(n))})),$(this,"buyItem",(function(e){var n=t.products[t.productIndex];t.balance>=n.price&&!n.bought&&(n.bought=!0,t.balance-=n.price,ee(-n.price),t.updateBalance(),e.target.style.display="none",t.equipButtonDiv[t.productIndex].innerHTML="",t.equipButtonDiv[t.productIndex].appendChild(t.generateEquipButton(n)),ne(t.products))})),$(this,"filterCarousel",(function(){document.querySelectorAll(".store__carousel-row__content__product").forEach((function(e,n){e.style.display=t.productIndex==n?"flex":"none"}))})),$(this,"incrementCarousel",(function(){t.productIndex+=1,t.productIndex%=t.products.length,t.filterCarousel()})),$(this,"decrementCarousel",(function(){t.productIndex-=1,t.productIndex=t.productIndex>=0?t.productIndex:t.products.length-1,t.filterCarousel()})),$(this,"close",(function(){document.removeEventListener("click",t.leftListener),document.removeEventListener("click",t.rightListener),document.removeEventListener("click",t.goHome),delete t.products,delete t.productIndex,Ct()})),this.products=re(),this.productIndex=0,this.balance=te(),this.equipButtonDiv=[];for(var n=0;n<this.products.length;n++)this.equipButtonDiv.push(document.createElement("div"));this.updateBalance(),this.generateCarousel(),this.leftListener=document.querySelector(".store__carousel-row > .left").addEventListener("click",this.decrementCarousel),this.rightListener=document.querySelector(".store__carousel-row > .right").addEventListener("click",this.incrementCarousel),this.goHome=document.querySelector("#storeGoHome").addEventListener("click",this.close)}var t,n;return t=e,n=[{key:"getItemsForSale",value:function(){return[new K(0,"Laser Gun","Shoots lasers!!!",J,30),new K(1,"Jet Pack","Pretty Obvious Right?",L,50)]}}],null&&W(t.prototype,null),n&&W(t,n),e}(),V="PRODUCTS",Z="COINS_KEY",ee=function(e){localStorage.setItem(Z,te()+e)},te=function(){var e=localStorage.getItem(Z);return e?parseInt(e):0},ne=function(e){localStorage.setItem(V,JSON.stringify(e))},re=function e(){var t=localStorage.getItem(V);if(t){var n=JSON.parse(t),r={};return n.forEach((function(e){r[e.id]=e})),Q.getItemsForSale().map((function(e){return e.update(r[e.id]),e}))}return ne(Q.getItemsForSale()),e()},oe=function(e,t){for(var n=1;n<e.length;n++)for(var r=n,o=t(e[r-1],e[r]);o>0;){var i=e[r-1];if(e[r-1]=e[r],e[r]=i,0==--r)break;o=t(e[r-1],e[r])}};function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fe(e);if(t){var o=fe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ue(this,n)}}function ue(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?le(e):t}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ye=function(){function e(t,n){var r=this;de(this,e),pe(this,"addElements",(function(){var e=document.createElement("div");e.className="controller__left-btns";var t=r.createButton("upButton","^",(function(){return r.touchListener("w")}),(function(){return r.liftListener("w")})),n=r.createButton("downButton","v",(function(){return r.touchListener("s")}),(function(){return r.liftListener("s")}));e.appendChild(t),e.appendChild(n);var o=document.createElement("div");o.className="controller__right-btns";var i=r.createButton("leftButton","<",(function(){return r.touchListener("a")}),(function(){return r.liftListener("a")})),a=r.createButton("rightButton",">",(function(){return r.touchListener("d")}),(function(){return r.liftListener("d")}));o.appendChild(i),o.appendChild(a);var c=document.createElement("div");c.className="controller",c.appendChild(e),c.appendChild(o),document.body.appendChild(c)})),pe(this,"createButton",(function(e,t,n,r){var o=document.createElement("button");return o.addEventListener("touchstart",n),o.addEventListener("touchend",r),o.innerHTML=t,o.id=e,o.className="controller__btn",o})),pe(this,"removeElements",(function(){document.querySelector(".controller").remove()})),this.touchListener=t,this.liftListener=n,this.addElements()}var t,n;return t=e,n=[{key:"isTouchEnabled",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}}],null&&he(t.prototype,null),n&&he(t,n),e}(),ve=function(e){ae(n,e);var t=se(n);function n(e,r,o){var i;return de(this,n),pe(le(i=t.call(this,e,r,10,10)),"update",(function(e){i.y+=e*i.velocity*Math.sin(i.theta),i.x+=e*i.velocity*Math.cos(i.theta)})),pe(le(i),"render",(function(e,t,n,r,o){e.fillStyle="red",e.beginPath(),e.arc(i.x-n[0]+o,i.y+n[1]+Math.floor(t.height/2)-r.height,i.width,0,2*Math.PI),e.closePath(),e.fill()})),i.theta=o,i.velocity=.8,i}return n}(i.default),me=function(e){ae(n,e);var t=se(n);function n(e,r,o,i){var a;de(this,n),pe(le(a=t.call(this,e,r,60,100,2,10,50)),"updateLazer",(function(e){a.lazerPos=[e.clientX,e.clientY]})),pe(le(a),"shootLazer",(function(e){a.ammo&&(a.shoot=!0,a.ammo=!1,a.lastShot=(new Date).getTime())})),pe(le(a),"enableExtras",(function(){a.extras.forEach((function(e){switch(e.id){case 1:a.hasJetPack=!0;break;case 0:a.hasLazer=!0}}))})),pe(le(a),"addKey",(function(e){switch(e){case"arrowup":case"w":-1===a.keys.indexOf("up")&&a.allowUp&&(a.keys.push("up"),a.allowUp=!1);break;case"arrowdown":case"s":-1===a.keys.indexOf("down")&&a.keys.push("down");break;case"arrowright":case"d":-1===a.keys.indexOf("right")&&a.keys.push("right");break;case"arrowleft":case"a":-1===a.keys.indexOf("left")&&a.keys.push("left")}})),pe(le(a),"handleKeyPress",(function(e){a.addKey(e.key.toLowerCase())})),pe(le(a),"removeKey",(function(e){switch(e){case"arrowup":case"w":-1!=a.keys.indexOf("up")&&a.keys.splice(a.keys.indexOf("up"),1),a.allowUp=!0;break;case"arrowdown":case"s":a.keys.splice(a.keys.indexOf("down"),1);break;case"arrowright":case"d":a.keys.splice(a.keys.indexOf("right"),1);break;case"arrowleft":case"a":a.keys.splice(a.keys.indexOf("left"),1)}})),pe(le(a),"handleKeyUp",(function(e){a.removeKey(e.key.toLowerCase())})),pe(le(a),"updateSprite",(function(e,t,n,r){var o=a.getRelevantGrounds(t),i=a.onGround(o);if(a.keys.forEach((function(t){if(i)switch(t){case"up":a.keys.splice(a.keys.indexOf("up"),1),a.velocityY-=3*a.acceleration*e,a.hasJetPack&&(a.velocityY-=3*a.acceleration*e)}switch(t){case"right":a.velocityX+=a.acceleration*e;break;case"left":a.velocityX-=a.acceleration*e}})),0!=a.velocityX&&i?a.walkPosition=a.animate(a.walkFrames,a.walkPosition,.2):(a.image=a.walkFrames[0],a.walkPosition=0),a.update(e,o),a.x<r&&(a.x=r),a.hasLazer){var c=[];oe(a.lazerPelets,(function(e,t){return e.x-t.x}));var s=a.lazerPelets.length>0?t.filter((function(e){return e.x+e.width>=a.lazerPelets[0].x&&e.x<=a.lazerPelets[a.lazerPelets.length-1].x+a.lazerPelets[0].width})):[];a.lazerPelets.forEach((function(t,n){t.update(e),t.y<-2e3||Math.abs(t.x-a.x)>4e3?c.push(n):s.forEach((function(e){e.belowCollides(t)&&c.push(n)}))})),c.forEach((function(e){a.lazerPelets.splice(e,1)}))}n(a.x,-a.y)})),pe(le(a),"render",(function(e,t,n){if(a.hasJetPack&&(a.jetpack.render(t,e,a.velocityY<0),-1==a.keys.indexOf("left")?a.jetpack.flipDirection(1):a.jetpack.flipDirection(-1)),-1==a.keys.indexOf("left")?t.drawImage(a.image,50-.2*a.height,e.height/2-a.height,a.height,a.height):function(e,t,n,r,o,i){e.save(),e.translate(n+o/2,r+i/2),e.scale(-1,1),e.drawImage(t,-o/2,-i/2,o,i),e.restore()}(t,a.image,50-.2*a.height,e.height/2-a.height,a.height,a.height),a.hasLazer){var r=e.height/2-.5*a.height,o=50+.6*a.height,i=Math.sqrt(Math.pow(o-a.lazerPos[0],2)+Math.pow(r-a.lazerPos[1],2)),c=Math.atan((a.lazerPos[1]-r)/(a.lazerPos[0]-o)),s=Math.floor(i/50),u=50*Math.cos(c),l=50*Math.sin(c);if(a.shoot){var f=new ve(a.x+a.width,a.y+a.height/2,c);a.lazerPelets.push(f),a.shoot=!1}var d=[];a.lazerPelets.forEach((function(r,o){r.inFrame(n,e)?r.render(t,e,n,le(a),50):d.push(o)})),d.forEach((function(e){a.lazerPelets.splice(e,1)})),t.fillStyle="red";for(var h=1;h<=s;h++){var p=5;h==s&&(p=10),t.beginPath(),t.arc(o+u*h,r+l*h,p,0,2*Math.PI),t.closePath(),t.fill()}var y=a.width;if(!a.ammo){var v=((new Date).getTime()-a.lastShot)/2e3;y=v*a.width,v>1&&(a.ammo=!0)}t.strokeStyle="red",t.strokeRect(o-a.width,r-a.height,a.width,10),t.fillRect(o-a.width,r-a.height,y,10)}})),pe(le(a),"lazerKill",(function(e,t){var n=[];e.forEach((function(e,t){a.lazerPelets.forEach((function(r){e.collides(r)&&n.push(t)}))})),n.forEach((function(t){e.splice(t,1)})),n=[],t.forEach((function(e,t){a.lazerPelets.forEach((function(r){e.collides(r)&&n.push(t)}))})),n.forEach((function(e){t.splice(e,1)}))})),pe(le(a),"killRobots",(function(e){var t=[];e.forEach((function(e,n){a.collides(e)&&(a.topCollision(e)||a.velocityY<0||a.y+a.height<e.y+20?t.push(n):a.die())})),t.forEach((function(t){e.splice(t,1)}))})),pe(le(a),"collectCoins",(function(e,t){var n=[];e.forEach((function(e,t){a.collides(e)&&n.push(t)})),n.forEach((function(t){e.splice(t,1)})),t(n.length)})),pe(le(a),"die",(function(){a.endPlayer(),a.endGame()})),pe(le(a),"endPlayer",(function(){a.removeEventListeners(),a.controller&&(a.controller.removeElements(),delete a.controller)})),pe(le(a),"removeEventListeners",(function(){window.removeEventListener("keydown",a.handleKeyPress),window.removeEventListener("keyup",a.handleKeyUp),a.hasLazer&&(document.removeEventListener("mousemove",a.mouseListener),document.getElementById("world").removeEventListener("click",a.clickListener))})),a.color=o,a.endGame=i,a.keys=[],a.keyPressListener=window.addEventListener("keydown",(function(e){return a.handleKeyPress(e)})),a.keyUpListener=window.addEventListener("keyup",(function(e){return a.handleKeyUp(e)})),ye.isTouchEnabled()&&(a.controller=new ye(a.addKey,a.removeKey)),a.walkFrames=[];var c=new Image;c.src=S,a.walkFrames.push(c);var s=new Image;s.src=I,a.walkFrames.push(s);var u=new Image;u.src=j,a.walkFrames.push(u);var l=new Image;return l.src=C,a.walkFrames.push(l),a.image=a.walkFrames[0],a.walkPosition=0,a.allowUp=!0,a.extras=re().filter((function(e){return e.bought&&e.equipped})),0==N.length&&[L,T,R,z].forEach((function(e){var t=new Image;t.src=e,N.push(t)})),a.hasJetPack=!1,a.hasLazer=!1,a.enableExtras(),a.lazerPos=[0,0],a.lazerPelets=[],a.shoot=!1,a.hasJetPack&&(a.jetpack=new U(59.75,0)),a.hasLazer&&(a.ammo=!0,a.lastShot=(new Date).getTime(),a.mouseListener=document.addEventListener("mousemove",a.updateLazer),a.clickListener=document.getElementById("world").addEventListener("click",a.shootLazer)),a}return n}(M()),be=n(479),ge=n.n(be);const we=n.p+"30bdb205cbec84bf901c2428a5c5a27a.svg",xe=n.p+"99aeb48ee0d38225c421fa5bc5f9da2c.svg",_e=n.p+"9e30811989ac04b447425f6e15bd69af.svg",Oe=n.p+"66e7d0e03b712dae7d5ca369072a9a77.svg";function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Me(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?Se(e):t}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ce=[],Le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Ie(t);if(n){var o=Ie(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Me(this,e)});function o(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return Pe(this,o),je(Se(n=r.call(this,e,t,2*i,2*i)),"render",(function(e,t,r,o,i){n.inFrame(r,t)&&(n.coinPosition=n.animate(n.sprites,n.coinPosition),e.drawImage(n.image,n.x-r[0]+i,n.y+r[1]+Math.floor(t.height/2)-o.height,2*n.radius,2*n.radius))})),je(Se(n),"animate",(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2;return(0,D.animate)(Se(n),e,t,r)})),n.radius=i,n.color="gold",n.sprites=Ce,n.image=n.sprites[0],n.coinPosition=0,n}return o}(i.default);function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Re=function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Te(this,"addPauseBtn",(function(){var e=document.createElement("button");e.innerHTML="||",e.className="pause__btn",e.addEventListener("click",o.pauseGame),o.pauseDiv.appendChild(e)})),Te(this,"pauseGame",(function(){o.pause(),o.showMenu()})),Te(this,"showMenu",(function(){var e=document.createElement("div");e.className="pause__menu";var t=document.createElement("button");t.className="pause__menu__btn",t.innerHTML="Resume",t.addEventListener("click",o.resume),e.appendChild(t);var n=document.createElement("button");n.className="pause__menu__btn",n.innerHTML="Go Home",n.addEventListener("click",o.goHome),e.appendChild(n),o.pauseDiv.appendChild(e),document.querySelector(".pause__btn").remove()})),Te(this,"hideMenu",(function(){document.querySelector(".pause__menu").remove(),o.addPauseBtn()})),Te(this,"resume",(function(){o.hideMenu(),o.unPause()})),Te(this,"goHome",(function(){o.hideMenu(),o.exit()})),Te(this,"remove",(function(){o.pauseDiv.remove()})),this.pauseDiv=document.createElement("div"),this.pauseDiv.className="pause",this.unPause=n,this.pause=t,this.exit=r,this.addPauseBtn(),document.body.appendChild(this.pauseDiv)};const ze=n.p+"a7966d5285aacdf37b6d9853ecf73812.svg",Be=n.p+"7bbbcb9a6c678a8ad051fd6ad35278e6.svg",De=n.p+"9c5304a3f3c0079d7d4132a40a554f67.svg";function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ge(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ye(e);if(t){var o=Ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ne(this,n)}}function Ne(e,t){return!t||"object"!==qe(t)&&"function"!=typeof t?Ue(e):t}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Je=[],We=function(e){Ge(n,e);var t=Xe(n);function n(e,r,o){var i;return He(this,n),Ke(Ue(i=t.call(this,e,r,10,10)),"update",(function(e){i.y+=e*i.velocity*Math.sin(i.theta),i.x+=e*i.velocity*Math.cos(i.theta)})),Ke(Ue(i),"render",(function(e,t,n,r,o){e.fillStyle="orange",e.beginPath(),e.arc(i.x-n[0]+o,i.y+n[1]+Math.floor(t.height/2)-r.height,i.width,0,2*Math.PI),e.closePath(),e.fill()})),i.theta=o,i.velocity=.2,i}return n}(i.default),$e=function(e){Ge(n,e);var t=Xe(n);function n(e,r){var o;return He(this,n),Ke(Ue(o=t.call(this,e,r,128.7,99,2,1,10)),"render",(function(e,t,n,r,i){o.inFrame(n,t)&&(e.fillStyle="green",o.spritePos=o.animate(o.sprites,o.spritePos,.2),e.drawImage(o.image,o.x-n[0]+i,o.y+n[1]+Math.floor(t.height/2)-r.height,o.width,o.height),o.shoot());var a,c=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(o.pellets);try{for(c.s();!(a=c.n()).done;){var s=a.value;if(s.render(e,t,n,r,i),r&&s.collides(r))return r.die(),delete o.pellets,!1}}catch(e){c.e(e)}finally{c.f()}return!0})),Ke(Ue(o),"updateSprite",(function(e,t){o.update(e,[],!1),o.velocityY=0,o.switchDirection();var n=[];oe(o.pellets,(function(e,t){return e.x-t.x}));for(var r=o.pellets.length>0?t.filter((function(e){return e.x+e.width>=o.pellets[0].x&&e.x<=o.pellets[o.pellets.length-1].x+o.pellets[o.pellets.length-1].width})):[],i=0;i<o.pellets.length;i++){var a=o.pellets[i];a.update(e);for(var c=0;c<r.length;c++)if(r[c].collides(a)){n.push(i);break}}n.forEach((function(e){return o.pellets.splice(e,1)})),o.velocityX=o.acceleration*o.direction})),Ke(Ue(o),"switchDirection",(function(){Math.random()>.95&&(o.direction=-o.direction),o.x<o.minX&&(o.direction=1),o.x>o.maxX&&(o.direction=-1)})),Ke(Ue(o),"shoot",(function(){if(Math.random()>.99){var e=new We(o.x+o.width/2,o.y+o.height,Math.random()*Math.PI*4/6+Math.PI/6);o.pellets.push(e)}})),o.direction=Math.random()>.5?1:-1,o.minX=e-5e3,o.maxX=e+5e3,o.pellets=[],o.sprites=Je,o.image=Je[0],o.spritePos=0,o}return n}(M());const Qe=n.p+"03d33d9df061d554066d8b21e2ea4ec0.svg";function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ze=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mountains=[],this.width=10*t.width,this.height=t.height,this.mountain=new Image,this.mountain.src=Qe,this.generateMountains()}var t,n;return t=e,(n=[{key:"generateMountains",value:function(){for(var e=Math.floor(5*Math.random())+5,t=Math.floor(Math.random()*this.width/e),n=0;n<e;n++){var r={x:t,y:Math.floor(Math.random()*this.height/2)+this.height/3,speed:.4*Math.random(),size:1+Math.random()};t+=Math.floor(this.width/e),this.mountains.push(r)}}},{key:"render",value:function(e,t,n){var r=this;this.mountains.forEach((function(t){e.drawImage(r.mountain,t.x-Math.floor(n[0]*t.speed)%r.width,400,Math.floor(1600*t.size),Math.floor(800*t.size))}))}}])&&Ve(t.prototype,n),e}();const et=n.p+"624c280eb8099adf3789ab4bb9482982.svg",tt=n.p+"9c691112ed6f41133bc86dbfd35bf7f5.svg",nt=n.p+"59a00f6d57af1213ea7f8eb690d6abe4.svg",rt=n.p+"2863d95561b5065c7361a5bc4eaaea8b.svg",ot=n.p+"114f25a880fd0a875069232a93f3dc04.svg";function it(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?at(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var st=.1095008052,ut=.1666666667,lt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.midrise=new Image,this.midrise.src=ot,this.taipei=new Image,this.taipei.src=et,this.pearl=new Image,this.pearl.src=tt,this.rail=new Image,this.rail.src=nt,this.train=new Image,this.train.src=rt,this.rails=[],this.width=Math.floor(10*t.width),this.height=t.height,this.trains=[],this.buildings=[],this.buildingAssets=[this.midrise,this.taipei,this.pearl],this.buildingRatios=[1.2397,2.893,1.20472],this.generateUrbanAreas()}var t,n;return t=e,(n=[{key:"generateUrbanAreas",value:function(){for(var e=0;e<10;e++){var t=Math.floor(this.width/10)*e,n={x:t,y:300,speed:.4,size:Math.ceil(this.width/10)};if(100*Math.random()<50){var r={x:t,y:250,speed:.4,size:this.width/10*.5};this.trains.push(r)}if(100*Math.random()<99){var o=Math.floor(Math.random()*this.buildingAssets.length),i={x:t,y:-100,speed:.4,size:this.width/10*.25,img:this.buildingAssets[o],ratio:this.buildingRatios[o]};this.buildings.push(i)}this.rails.push(n)}}},{key:"render",value:function(e,t,n){var r,o=n[1]+t.height/2,i=it(this.rails);try{for(i.s();!(r=i.n()).done;){var a=r.value,c=a.x-Math.floor(n[0]*a.speed)%this.width;if(!(c<-a.size-4)){if(c>t.width)break;e.drawImage(this.rail,c,o,a.size+4,Math.floor(a.size*ut+4))}}}catch(e){i.e(e)}finally{i.f()}var s,u=it(this.rails);try{for(u.s();!(s=u.n()).done;){var l=s.value,f=l.x-Math.floor(n[0]*l.speed)%this.width+this.width;if(!(f<-l.size-4)){if(f>t.width)break;e.drawImage(this.rail,f,o,l.size+4,Math.floor(l.size*ut+4))}}}catch(e){u.e(e)}finally{u.f()}var d,h=it(this.trains);try{for(h.s();!(d=h.n()).done;){var p=d.value;p.x+=50,p.x%=this.width;var y=p.x-Math.floor(n[0]*p.speed)%this.width;y<-p.size||y>t.width||e.drawImage(this.train,y,o-p.size*st,p.size,p.size*st)}}catch(e){h.e(e)}finally{h.f()}var v,m=it(this.buildings);try{for(m.s();!(v=m.n()).done;){var b=v.value,g=b.x-Math.floor(n[0]*b.speed)%this.width;if(!(g<-b.size)){if(g>t.width)break;e.drawImage(b.img,g,o+this.rails[0].size*ut-b.size*b.ratio,b.size,b.size*b.ratio)}}}catch(e){m.e(e)}finally{m.f()}var w,x=it(this.buildings);try{for(x.s();!(w=x.n()).done;){var _=w.value,O=_.x-Math.floor(n[0]*_.speed)%this.width+this.width;if(!(O<-_.size)){if(O>t.width)break;e.drawImage(_.img,O,o+this.rails[0].size*ut-_.size*_.ratio,_.size,_.size*_.ratio)}}}catch(e){x.e(e)}finally{x.f()}e.fillStyle="#68C18C",e.fillRect(0,n[1]+t.height/2+this.rails[0].size*ut,t.width,t.height-(n[1]+t.height/2+this.rails[0].size*ut))}}])&&ct(t.prototype,n),e}();function ft(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=ht(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function dt(e){return function(e){if(Array.isArray(e))return pt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ht(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(e,t){if(e){if("string"==typeof e)return pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pt(e,t):void 0}}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mt=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),vt(this,"animate",(function(){var e=(new Date).getTime(),n=e-t.lastUpdate;t.lastUpdate=e,t.paused||(t.renderBackground(),t.player&&t.renderLandscapes(n),t.player&&t.player.updateSprite(n,t.grounds,t.updateCameraOffset,t.initialPlayerPosition),t.player&&t.player.render(t.canvas,t.context,t.cameraOffset),t.player&&t.player.killRobots(t.robots),t.player&&t.player.lazerKill(t.robots,t.ufos),t.player&&t.player.collectCoins(t.coins,t.incrementScore),t.renderScore()),t.over||(t.loop=window.requestAnimationFrame(t.animate))})),vt(this,"renderScore",(function(){t.context.font="50px Avenir",t.context.fillStyle=t.textColor,t.context.fillText(t.score,t.canvas.width-50,50)})),vt(this,"renderBackground",(function(){t.sky.render(t.context,t.canvas,t.cameraOffset),t.mountains.render(t.context,t.canvas,t.cameraOffset),t.urban.render(t.context,t.canvas,t.cameraOffset)})),vt(this,"generateLandscape",(function(){t.grounds=[];var e=0,n=100;t.robots=[],t.coins=[],t.ufos=[];for(var r=0;r<80;r++){var o=Math.floor(8*Math.random())+6,i=50*e,a=!1;t.grounds.push(new P(i,n,o));for(var c=0;c<o;c++)if(!a&&Math.random()>.95){a=!0;var s=new Le(i+50*c,n-50,25);t.coins.push(s)}if(Math.random()>.5&&r>1){var u=new(ge())(i,n-be.ROBOT_HEIGHT,1);t.robots.push(u)}if(Math.random()>.5&&r>1){var l=new $e(i,n-.5*t.canvas.height);t.ufos.push(l)}n+=Math.floor(300*Math.random())-150,e+=o}t.combinedGeometries=[].concat(dt(t.robots),dt(t.coins),dt(t.grounds))})),vt(this,"renderLandscapes",(function(e){var n,r=ft(t.grounds);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.inFrame(t.cameraOffset,t.canvas))o.render(t.context,t.canvas,t.cameraOffset,t.player,t.initialPlayerPosition);else if(o.toRightOfFrame(t.cameraOffset,t.canvas))break}}catch(e){r.e(e)}finally{r.f()}oe(t.robots,(function(e,t){return ge().sort(e,t)}));for(var i=t.lastRobot,a=0;a<t.robots.length;a++){var c=t.robots[a];if(c.updateSprite(e,t.grounds),c.inFrame(t.cameraOffset,t.canvas)?(i++,c.render(t.context,t.canvas,t.cameraOffset,t.player,t.initialPlayerPosition)):i--,c.toRightOfFrame(t.cameraOffset,t.canvas))break}t.lastRobot=i-1>0?i-1:0;var s,u=ft(t.coins);try{for(u.s();!(s=u.n()).done;){var l=s.value;if(l.inFrame(t.cameraOffset,t.canvas))l.render(t.context,t.canvas,t.cameraOffset,t.player,t.initialPlayerPosition);else if(l.toRightOfFrame(t.cameraOffset,t.canvas))break}}catch(e){u.e(e)}finally{u.f()}var f,d=ft(t.ufos);try{for(d.s();!(f=d.n()).done;){var h=f.value;if(h.updateSprite(e,t.combinedGeometries),!h.render(t.context,t.canvas,t.cameraOffset,t.player,t.initialPlayerPosition))break}}catch(e){d.e(e)}finally{d.f()}})),vt(this,"updateCameraOffset",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.cameraOffset[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.cameraOffset[1];t.cameraOffset=[e,n]})),vt(this,"incrementScore",(function(e){t.score+=e})),vt(this,"terminate",(function(){t.pause&&t.pause.remove(),window.cancelAnimationFrame(t.loop),t.over=!0,delete t.grounds,delete t.pause,delete t.sky,delete t.coins,delete t.robots,delete t.ufos,delete t.pause,delete t.combinedGeometries,delete t.urban})),vt(this,"endGame",(function(){t.terminate(),delete t.player,ee(t.score),jt(t.score)})),this.canvas=document.getElementById("world"),this.context=this.canvas.getContext("2d"),this.canvas.style.display="block",this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.lastUpdate=(new Date).getTime(),this.cameraOffset=[0,Math.floor(this.canvas.height/2)],this.sky=new o(this.canvas),this.mountains=new Ze(this.canvas),this.urban=new lt(this.canvas),this.initialPlayerPosition=50,this.generateLandscape(),this.player=this.initializePlayer(),this.loop=window.requestAnimationFrame(this.animate),this.over=!1,this.score=0,this.paused=!1,this.textColor="#ececec",this.lastRobot=0,this.pause=new Re((function(){return t.paused=!0}),(function(){return t.paused=!1}),(function(){t.terminate(),t.player.endPlayer(),delete t.player,St()}))}var t,n;return t=e,(n=[{key:"initializePlayer",value:function(){return new me(this.initialPlayerPosition,-300,"red",this.endGame)}}])&&yt(t.prototype,n),e}(),bt=(n(545),document.getElementById("playButton")),gt=document.getElementById("mainMenu"),wt=document.getElementById("world"),xt=document.getElementById("gameOver"),_t=document.getElementById("playAgain"),Ot=document.getElementById("gameOverScore"),Et=document.getElementById("storeButton"),Pt=document.getElementById("store"),kt=document.getElementById("gameOverHome"),Mt=function(e){" "===e.key&&It()};window.addEventListener("keypress",Mt,{once:!0}),window.onload=function(){(0,be.constructRobotImages)(),_.src=d,O.src=h,E.src=p,function(){var e=new Image;e.src=ze;var t=new Image;t.src=Be;var n=new Image;n.src=De,Je.push(e),Je.push(t),Je.push(n),Je.push(t)}(),function(){var e=new Image;e.src=we;var t=new Image;t.src=xe;var n=new Image;n.src=_e;var r=new Image;r.src=Oe,Ce=[e,t,n,r,n,t]}(),St()},bt.addEventListener("click",(function(e){It()})),_t.addEventListener("click",(function(e){It()}));var St=function(){gt.style.display="grid",xt.style.display="none",wt.style.display="none";var e=document.querySelector(".pause");e&&e.remove()},It=function(){window.removeEventListener("keypress",Mt),gt.style.display="none",xt.style.display="none",wt.style.display="block",new mt},jt=function(e){xt.display="flex",wt.style.display="none",xt.style.display="flex",Ot.innerHTML=e,window.addEventListener("keypress",Mt,{once:!0})};Et.addEventListener("click",(function(e){Pt.style.display="flex",window.removeEventListener("keypress",Mt),gt.style.display="none",new Q})),kt.addEventListener("click",(function(e){St()}));var Ct=function(){Pt.style.display="none",St()};"serviceWorker"in navigator&&window.addEventListener("load",(function(e){navigator.serviceWorker.register("../serviceWorker.js").then((function(e){console.log("Registered")})).catch((function(e){console.log("error")}))}))})()})();