!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="dist/",n(n.s=4)}([function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,c=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(u," */")),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([o]).join("\n")}var a,c,u;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&o[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},function(e,t,n){var r=n(2),o=n(3);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},function(e,t,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function c(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function u(e,t){for(var n={},r=[],o=0;o<e.length;o++){var i=e[o],u=t.base?i[0]+t.base:i[0],s=n[u]||0,l="".concat(u," ").concat(s);n[u]=s+1;var f=c(l),d={css:i[1],media:i[2],sourceMap:i[3]};-1!==f?(a[f].references++,a[f].updater(d)):a.push({identifier:l,updater:m(d,t),references:1}),r.push(l)}return r}function s(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var l,f=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function d(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=f(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function p(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var h=null,y=0;function m(e,t){var n,r,o;if(t.singleton){var i=y++;n=h||(h=s(t)),r=d.bind(null,n,i,!1),o=d.bind(null,n,i,!0)}else n=s(t),r=p.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=u(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=c(n[r]);a[o].references--}for(var i=u(e,t),s=0;s<n.length;s++){var l=c(n[s]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=i}}}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r)()(!1);o.push([e.i,'.main-menu{display:grid;grid-template-rows:1fr 40px;grid-template-columns:1fr;height:100vh}.main-menu__body{display:flex;justify-content:center;align-items:center;flex-direction:column;font-size:2em}.main-menu__body button{font-size:1.2em}.main-menu__footer{display:flex;justify-content:center}.main-menu h1{text-align:center}.game-over{display:none;justify-content:center;align-items:center;flex-direction:column;font-size:2em;height:100vh}.game-over button{font-size:1.2em}.game-over h1{text-align:center}.controller__btn{width:50px;height:50px;margin:10px 10px;padding:0;user-select:none}.controller__btn:active{background-color:gray;color:#fff}.controller__btn:focus{outline:none}@media only screen and (max-width: 400px){.controller .controller__left-btns{left:10px}.controller .controller__right-btns{right:10px}}.controller__left-btns{position:absolute;display:flex;flex-direction:column;bottom:50px;left:50px}.controller__right-btns{position:absolute;display:flex;flex-direction:row;bottom:50px;right:50px}.pause__btn{width:50px;height:50px;position:absolute;top:20px;left:20px;padding:0}.pause__menu{position:absolute;width:100vw;height:100vh;background-color:#add8e6;display:flex;flex-direction:column;justify-content:center;align-items:center;top:0;left:0}.pause__menu__btn{margin:10px 0px;font-size:1.5em}.store{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh;width:100vw}.store__carousel-row{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.store__carousel-row button{width:50px;height:50px;position:relative}.store__carousel-row button span{position:absolute;width:30px;height:10px;background-color:gray}.store__carousel-row button:active{outline:none}.store__carousel-row button span:nth-child(1),.store__carousel-row .left span:nth-child(1){top:13px;transform:translate(-50%, 0) rotate(-45deg)}.store__carousel-row button span:nth-child(2),.store__carousel-row .left span:nth-child(2){top:calc(100% - 22px);transform:translate(-50%, 0) rotate(45deg)}.store__carousel-row button span:nth-child(1),.store__carousel-row .right span:nth-child(1){top:13px;transform:translate(-50%, 0) rotate(45deg)}.store__carousel-row button span:nth-child(2),.store__carousel-row .right span:nth-child(2){top:calc(100% - 22px);transform:translate(-50%, 0) rotate(-45deg)}.store__carousel-row__content__product{display:flex;flex-direction:column;justify-content:space-between;width:min(220px, 45vw);align-items:center}.store__carousel-row__content__product h1{width:100vw;text-align:center}.store__carousel-row__content__product button{width:150px}.store__carousel-row__content__product p{width:100vw;text-align:center}.store__carousel-row__content__product__img{height:min(200px, 40vw);width:min(200px, 40vw);display:flex;justify-content:center;align-items:center}.store__carousel-row__content__product__img img{height:min(200px, 40vw);max-width:min(200px, 40vw)}.store__btn{margin:20px 0px;font-size:2em;width:min(400px, 90vw)}html,body{padding:0;margin:0;overflow:hidden;font-family:"Avenir";color:#ececec;background-color:#add8e6}button{margin:10px 0px;padding:10px 40px;border-radius:50px;width:300px;border:none;background-color:#ececec;color:gray}button:hover{cursor:pointer}button:focus{outline:none}',""]),t.default=o},function(e,t,n){"use strict";n.r(t),n.d(t,"showMainMenu",(function(){return Xt})),n.d(t,"showGameOver",(function(){return Ut})),n.d(t,"closeStore",(function(){return Kt}));var r=n.p+"d19786695efe996f6afa00088bce8ab7.svg";function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.backgroundColor="#4fc3f7",this.cloudColor="#ececec",this.clouds=[],this.width=10*t.width,this.height=t.height,this.cloud=new Image,this.cloud.src=r,this.cloud.width=50,this.generateClouds()}var t,n,i;return t=e,(n=[{key:"generateClouds",value:function(){for(var e=Math.floor(20*Math.random())+5,t=Math.floor(Math.random()*this.width/e),n=0;n<e;n++){var r={x:t,y:Math.floor(Math.random()*this.height/2),speed:.4*Math.random(),size:1+Math.random()};t+=Math.floor(Math.random()*this.width/e),this.clouds.push(r)}}},{key:"render",value:function(e,t,n){var r=this;e.fillStyle=this.backgroundColor,e.fillRect(0,0,t.width,t.height),this.clouds.forEach((function(t){e.drawImage(r.cloud,t.x-Math.floor(n[0]*t.speed)%r.width,t.y,Math.floor(200*t.size),Math.floor(100*t.size))}))}}])&&o(t.prototype,n),i&&o(t,i),e}();function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function e(t,n,r,o){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"collides",(function(e){var t=i.x+i.width>=e.x,n=i.x<=e.x+e.width,r=i.y+i.height>=e.y,o=i.y<=e.y+e.height;return t&&n&&r&&o})),a(this,"belowCollides",(function(e){var t=i.x+i.width>=e.x,n=i.x<=e.x+e.width,r=i.y<=e.y+e.height;return t&&n&&r})),a(this,"topCollision",(function(e){var t=i.x+i.width>=e.x,n=i.x<=e.x+e.width,r=i.y+i.height>=e.y,o=i.y+i.height<=e.y+2*i.velocityY+5;return t&&n&&r&&o})),a(this,"sideCollision",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=i.x+i.width>=e.x-t,o=i.x<=e.x+e.width+t,a=i.y+i.height>=e.y+e.height+10,c=!n||i.y<=e.y+e.height;return r&&a&&o&&c})),a(this,"rightCollision",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i.sideCollision(e,t)&&e.x<i.x+i.width})),a(this,"leftCollision",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i.sideCollision(e,t)&&e.x>i.x})),a(this,"inFrame",(function(e,t){var n=i.x-e[0]+i.width+50>0,r=i.x-e[0]<t.width;return n&&r})),a(this,"toRightOfFrame",(function(e,t){return i.x-e[0]+i.width>t.width})),this.x=t,this.y=n,this.width=r,this.height=o};function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,e);var t=l(n);function n(e,r,o,i){var a,c,u,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),a=t.call(this,e,r,o,i),c=d(a),s=function(e,t){throw Error("NOT_IMPLEMENTED!!!")},(u="render")in c?Object.defineProperty(c,u,{value:s,enumerable:!0,configurable:!0,writable:!0}):c[u]=s,a}return n}(c),y=n.p+"ed1d54b3fea059591e128baee192bf71.svg",m=n.p+"9f21f2736d2d80369770b461bf57ab98.svg",v=n.p+"9b096ef1d5a93a624d9ff84f383bfec9.svg";function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=new Image,k=new Image,j=new Image,M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(n,e);var t=x(n);function n(e,r){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return g(this,n),E(O(o=t.call(this,e,r,50*i,50)),"render",(function(e,t,n,r,i){for(var a=t.height-n[1]-o.y,c=0;c<o.blocks;c++){var u=void 0;switch(c){case 0:u=o.leftGrass;break;case o.blocks-1:u=o.rightGrass;break;default:u=o.middleGrass}e.drawImage(u,o.x-n[0]+i+c*o.height,n[1]+o.y+Math.floor(t.height/2)-r.height,o.height,o.height)}e.fillStyle="#D7CCC8",e.fillRect(o.x-n[0]+i,n[1]+o.y+Math.floor(t.height/2)-r.height+o.height,o.width,a)})),o.blocks=i,o.leftGrass=S,o.rightGrass=k,o.middleGrass=j,o}return n}(h),C=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.2,o=Math.ceil(1/r);return e.image=t[Math.floor(n/o)],(n+=1)>=t.length*o&&(n=0),n};function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?B(e):t}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return G(this,n)}}function G(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?H(e):t}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(n,e);var t=F(n);function n(e,r,o,i,a,c,u){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),X(H(s=t.call(this,e,r,o,i,a,c,u)),"updateSprite",(function(e,t){throw new Error})),X(H(s),"render",(function(e,t,n,r,o){throw new Error})),X(H(s),"animate",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2;return C(H(s),e,t,n)})),s}return n}(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(n,e);var t=R(n);function n(e,r,o,i,a,c,u){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),z(B(s=t.call(this,e,r,o,i)),"calculateGravityAndCollsions",(function(e){var t=!1;return e.forEach((function(e){s.collides(e)&&(s.sideCollision(e)||(t=!0,s.y=e.y-s.height)),s.leftCollision(e,.5*Math.abs(s.velocityX))&&s.velocityX>0&&(s.velocityX=0,s.x=e.x-s.width),s.rightCollision(e,.5*Math.abs(s.velocityX))&&s.velocityX<0&&(s.velocityX=0,s.x=e.x+e.width)})),t?s.velocityY=s.velocityY>0?0:s.velocityY:s.velocityY+=s.gravity,t})),z(B(s),"update",(function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!1;n&&(r=s.calculateGravityAndCollsions(t)),s.x+=Math.floor(s.velocityX*e)%s.maxSpeed,s.y+=Math.floor(s.velocityY*e)%s.maxSpeed;var o=r?4*s.drag:s.drag;if(0!=s.velocityX){var i=Math.abs(s.velocityX)-o;s.velocityX=i>0?i*(s.velocityX/Math.abs(s.velocityX)):0}if(0!=s.velocityY){var a=Math.abs(s.velocityY)-s.drag;s.velocityY=a>0?a*(s.velocityY/Math.abs(s.velocityY)):0}})),z(B(s),"renderVelocity",(function(e){e.strokeStyle="yellow";e.beginPath(),e.moveTo(100,100),e.lineTo(100+Math.floor(50*s.velocityX),100+Math.floor(50*s.velocityY)),e.closePath(),e.stroke()})),z(B(s),"onGround",(function(e){var t=!1;return e.forEach((function(e){s.collides(e)&&(t=!0)})),t})),z(B(s),"getRelevantGrounds",(function(e){return e.filter((function(e){return e.x+e.width>=s.x&&s.x+s.width<e.x+e.width+400}))})),s.drag=c,s.maxSpeed=u,s.acceleration=a,s.velocityX=0,s.velocityY=0,s.gravity=.5,s}return n}(c)),U=n.p+"ba1a00a75bcfac5ed22b3faf180c7645.svg",K=n.p+"31c37f9b2a99eab59c70d49ed1349afc.svg",J=n.p+"d711fc4db457f60dd039c9c2d00d2aeb.svg",$=n.p+"15e9908b7c64edc3f70b9c916b248cf8.svg",V=n.p+"861c5630edd324cbe3a54080266a501d.svg",W=n.p+"61b16eae207f992db904ddb3301110af.svg",Q=n.p+"1616d863befcf1c62d2009cda16e9373.svg",Z=n.p+"d1001da21c53e984fa85f946af1a0374.svg",ee=n.p+"9352c4336d3cb7d3898dc3e272143caf.svg";function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ae(e);if(t){var o=ae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oe(this,n)}}function oe(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?ie(e):t}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ue=[],se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(n,e);var t=re(n);function n(e,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),ce(ie(o=t.call(this,e,r,35,70)),"render",(function(e,t,n){n?o.frameIndex=C(ie(o),o.frames,o.frameIndex,.2):o.image=o.staticImage,e.drawImage(o.image,o.x,t.height/2-o.height-o.y,o.width,o.height)})),ce(ie(o),"flipDirection",(function(e){switch(e){case-1:o.x=90.25;break;case 1:o.x=44.75}})),o.frames=ue,o.frameIndex=0,o.staticImage=new Image,o.staticImage.src=ee,o.image=o.frames[o.frameIndex],o}return n}(c);function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var fe=function(){function e(t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.name=n,this.description=r,this.img=o,this.price=i,this.bought=!1,this.equipped=!1}var t,n,r;return t=e,(n=[{key:"update",value:function(e){this.bought=e.bought,this.equipped=e.equipped}}])&&le(t.prototype,n),r&&le(t,r),e}(),de=n.p+"77c3c4d3c51fdf13c15055e28afd9bad.svg";function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ye=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),he(this,"updateBalance",(function(){document.getElementById("storeBalance").innerHTML=t.balance})),he(this,"generateCarousel",(function(){var e=document.querySelector("#carousel");e.innerHTML="",t.products.forEach((function(n,r){var o=document.createElement("div");o.className="store__carousel-row__content__product";var i=document.createElement("h1");i.innerHTML=n.name;var a=new Image,c=document.createElement("div");c.className="store__carousel-row__content__product__img",a.src=n.img,c.appendChild(a);var u=document.createElement("p");u.innerHTML=n.description;var s=document.createElement("button");s.innerHTML="Buy - $"+n.price,s.addEventListener("click",t.buyItem),o.appendChild(i),o.appendChild(c),o.appendChild(u),n.bought?t.equipButtonDiv[r].appendChild(t.generateEquipButton(n)):o.appendChild(s),o.appendChild(t.equipButtonDiv[r]),e.appendChild(o)})),t.filterCarousel()})),he(this,"generateEquipButton",(function(e){var n=document.createElement("button");return e.equipped?(n.innerHTML="Deactivate",n.addEventListener("click",t.deactivateProduct)):(n.innerHTML="Equip!",n.addEventListener("click",t.equipProduct)),n})),he(this,"equipProduct",(function(e){var n=t.products[t.productIndex];n.equipped=!0,be(t.products),t.equipButtonDiv[t.productIndex].innerHTML="",t.equipButtonDiv[t.productIndex].appendChild(t.generateEquipButton(n))})),he(this,"deactivateProduct",(function(e){var n=t.products[t.productIndex];n.equipped=!1,be(t.products),t.equipButtonDiv[t.productIndex].innerHTML="",t.equipButtonDiv[t.productIndex].appendChild(t.generateEquipButton(n))})),he(this,"buyItem",(function(e){var n=t.products[t.productIndex];t.balance>=n.price&&!n.bought&&(n.bought=!0,t.balance-=n.price,me(-n.price),t.updateBalance(),e.target.style.display="none",t.equipButtonDiv[t.productIndex].innerHTML="",t.equipButtonDiv[t.productIndex].appendChild(t.generateEquipButton(n)),be(t.products))})),he(this,"filterCarousel",(function(){document.querySelectorAll(".store__carousel-row__content__product").forEach((function(e,n){e.style.display=t.productIndex==n?"flex":"none"}))})),he(this,"incrementCarousel",(function(){t.productIndex+=1,t.productIndex%=t.products.length,t.filterCarousel()})),he(this,"decrementCarousel",(function(){t.productIndex-=1,t.productIndex=t.productIndex>=0?t.productIndex:t.products.length-1,t.filterCarousel()})),he(this,"close",(function(){document.removeEventListener("click",t.leftListener),document.removeEventListener("click",t.rightListener),document.removeEventListener("click",t.goHome),delete t.products,delete t.productIndex,Kt()})),this.products=ge(),this.productIndex=0,this.balance=ve(),this.equipButtonDiv=[];for(var n=0;n<this.products.length;n++)this.equipButtonDiv.push(document.createElement("div"));this.updateBalance(),this.generateCarousel(),this.leftListener=document.querySelector(".store__carousel-row > .left").addEventListener("click",this.decrementCarousel),this.rightListener=document.querySelector(".store__carousel-row > .right").addEventListener("click",this.incrementCarousel),this.goHome=document.querySelector("#storeGoHome").addEventListener("click",this.close)}var t,n,r;return t=e,r=[{key:"getItemsForSale",value:function(){return[new fe(0,"Laser Gun","Shoots lasers!!!",de,30),new fe(1,"Jet Pack","Pretty Obvious Right?",V,50)]}}],(n=null)&&pe(t.prototype,n),r&&pe(t,r),e}(),me=function(e){localStorage.setItem("COINS_KEY",ve()+e)},ve=function(){var e=localStorage.getItem("COINS_KEY");return e?parseInt(e):0},be=function(e){localStorage.setItem("PRODUCTS",JSON.stringify(e))},ge=function e(){var t=localStorage.getItem("PRODUCTS");if(t){var n=JSON.parse(t),r={};return n.forEach((function(e){r[e.id]=e})),ye.getItemsForSale().map((function(e){return e.update(r[e.id]),e}))}return be(ye.getItemsForSale()),e()},we=function(e,t){for(var n=1;n<e.length;n++)for(var r=n,o=t(e[r-1],e[r]);o>0;){var i=e[r-1];if(e[r-1]=e[r],e[r]=i,0===--r)break;o=t(e[r-1],e[r])}};function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ke(e);if(t){var o=ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ee(this,n)}}function Ee(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?Se(e):t}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ie=function(){function e(t,n){var r=this;je(this,e),Ce(this,"addElements",(function(){var e=document.createElement("div");e.className="controller__left-btns";var t=r.createButton("upButton","^",(function(){return r.touchListener("w")}),(function(){return r.liftListener("w")})),n=r.createButton("downButton","v",(function(){return r.touchListener("s")}),(function(){return r.liftListener("s")}));e.appendChild(t),e.appendChild(n);var o=document.createElement("div");o.className="controller__right-btns";var i=r.createButton("leftButton","<",(function(){return r.touchListener("a")}),(function(){return r.liftListener("a")})),a=r.createButton("rightButton",">",(function(){return r.touchListener("d")}),(function(){return r.liftListener("d")}));o.appendChild(i),o.appendChild(a);var c=document.createElement("div");c.className="controller",c.appendChild(e),c.appendChild(o),document.body.appendChild(c)})),Ce(this,"createButton",(function(e,t,n,r){var o=document.createElement("button");return o.addEventListener("touchstart",n),o.addEventListener("touchend",r),o.innerHTML=t,o.id=e,o.className="controller__btn",o})),Ce(this,"removeElements",(function(){document.querySelector(".controller").remove()})),this.touchListener=t,this.liftListener=n,this.addElements()}var t,n,r;return t=e,r=[{key:"isTouchEnabled",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}}],(n=null)&&Me(t.prototype,n),r&&Me(t,r),e}(),Le=function(e){_e(n,e);var t=Pe(n);function n(e,r,o){var i;return je(this,n),Ce(Se(i=t.call(this,e,r,10,10)),"update",(function(e){i.y+=e*i.velocity*Math.sin(i.theta),i.x+=e*i.velocity*Math.cos(i.theta)})),Ce(Se(i),"render",(function(e,t,n,r,o){e.fillStyle="red",e.beginPath(),e.arc(i.x-n[0]+o,i.y+n[1]+Math.floor(t.height/2)-r.height,i.width,0,2*Math.PI),e.closePath(),e.fill()})),i.theta=o,i.velocity=.8,i}return n}(c),Re=function(e){_e(n,e);var t=Pe(n);function n(e,r,o,i){var a;je(this,n),Ce(Se(a=t.call(this,e,r,60,100,2,10,50)),"updateLazer",(function(e){a.lazerPos=[e.clientX,e.clientY]})),Ce(Se(a),"shootLazer",(function(e){a.ammo&&(a.shoot=!0,a.ammo=!1,a.lastShot=(new Date).getTime())})),Ce(Se(a),"enableExtras",(function(){a.extras.forEach((function(e){switch(e.id){case 1:a.hasJetPack=!0;break;case 0:a.hasLazer=!0}}))})),Ce(Se(a),"addKey",(function(e){switch(e){case"arrowup":case"w":-1===a.keys.indexOf("up")&&a.allowUp&&(a.keys.push("up"),a.allowUp=!1);break;case"arrowdown":case"s":-1===a.keys.indexOf("down")&&a.keys.push("down");break;case"arrowright":case"d":-1===a.keys.indexOf("right")&&a.keys.push("right");break;case"arrowleft":case"a":-1===a.keys.indexOf("left")&&a.keys.push("left")}})),Ce(Se(a),"handleKeyPress",(function(e){a.addKey(e.key.toLowerCase())})),Ce(Se(a),"removeKey",(function(e){switch(e){case"arrowup":case"w":-1!=a.keys.indexOf("up")&&a.keys.splice(a.keys.indexOf("up"),1),a.allowUp=!0;break;case"arrowdown":case"s":a.keys.splice(a.keys.indexOf("down"),1);break;case"arrowright":case"d":a.keys.splice(a.keys.indexOf("right"),1);break;case"arrowleft":case"a":a.keys.splice(a.keys.indexOf("left"),1)}})),Ce(Se(a),"handleKeyUp",(function(e){a.removeKey(e.key.toLowerCase())})),Ce(Se(a),"updateSprite",(function(e,t,n,r){var o=a.getRelevantGrounds(t),i=a.onGround(o);if(a.keys.forEach((function(t){if(i)switch(t){case"up":a.keys.splice(a.keys.indexOf("up"),1),a.velocityY-=3*a.acceleration*e,a.hasJetPack&&(a.velocityY-=3*a.acceleration*e)}switch(t){case"right":a.velocityX+=a.acceleration*e;break;case"left":a.velocityX-=a.acceleration*e}})),0!=a.velocityX&&i?a.walkPosition=a.animate(a.walkFrames,a.walkPosition,.2):(a.image=a.walkFrames[0],a.walkPosition=0),a.update(e,o),a.x<r&&(a.x=r),a.hasLazer){var c=[];we(a.lazerPelets,(function(e,t){return e.x-t.x}));var u=a.lazerPelets.length>0?t.filter((function(e){return e.x+e.width>=a.lazerPelets[0].x&&e.x<=a.lazerPelets[a.lazerPelets.length-1].x+a.lazerPelets[0].width})):[];a.lazerPelets.forEach((function(t,n){t.update(e),t.y<-2e3||Math.abs(t.x-a.x)>4e3?c.push(n):u.forEach((function(e){e.belowCollides(t)&&c.push(n)}))})),c.forEach((function(e){a.lazerPelets.splice(e,1)}))}n(a.x,-a.y)})),Ce(Se(a),"render",(function(e,t,n){if(a.hasJetPack&&(a.jetpack.render(t,e,a.velocityY<0),-1==a.keys.indexOf("left")?a.jetpack.flipDirection(1):a.jetpack.flipDirection(-1)),-1==a.keys.indexOf("left")?t.drawImage(a.image,50-.2*a.height,e.height/2-a.height,a.height,a.height):function(e,t,n,r,o,i){e.save(),e.translate(n+o/2,r+i/2),e.scale(-1,1),e.drawImage(t,-o/2,-i/2,o,i),e.restore()}(t,a.image,50-.2*a.height,e.height/2-a.height,a.height,a.height),a.hasLazer){var r=e.height/2-.5*a.height,o=50+.6*a.height,i=Math.sqrt(Math.pow(o-a.lazerPos[0],2)+Math.pow(r-a.lazerPos[1],2)),c=Math.atan((a.lazerPos[1]-r)/(a.lazerPos[0]-o)),u=Math.floor(i/50),s=50*Math.cos(c),l=50*Math.sin(c);if(a.shoot){var f=new Le(a.x+a.width,a.y+a.height/2,c);a.lazerPelets.push(f),a.shoot=!1}var d=[];a.lazerPelets.forEach((function(r,o){r.inFrame(n,e)?r.render(t,e,n,Se(a),50):d.push(o)})),d.forEach((function(e){a.lazerPelets.splice(e,1)})),t.fillStyle="red";for(var p=1;p<=u;p++){var h=5;p==u&&(h=10),t.beginPath(),t.arc(o+s*p,r+l*p,h,0,2*Math.PI),t.closePath(),t.fill()}var y=a.width;if(!a.ammo){var m=((new Date).getTime()-a.lastShot)/2e3;y=m*a.width,m>1&&(a.ammo=!0)}t.strokeStyle="red",t.strokeRect(o-a.width,r-a.height,a.width,10),t.fillRect(o-a.width,r-a.height,y,10)}})),Ce(Se(a),"lazerKill",(function(e,t){var n=[];e.forEach((function(e,t){a.lazerPelets.forEach((function(r){e.collides(r)&&n.push(t)}))})),n.forEach((function(t){e.splice(t,1)})),n=[],t.forEach((function(e,t){a.lazerPelets.forEach((function(r){e.collides(r)&&n.push(t)}))})),n.forEach((function(e){t.splice(e,1)}))})),Ce(Se(a),"killRobots",(function(e){var t=[];e.forEach((function(e,n){a.collides(e)&&(a.topCollision(e)||a.velocityY<0||a.y+a.height<e.y+20?t.push(n):a.die())})),t.forEach((function(t){e.splice(t,1)}))})),Ce(Se(a),"collectCoins",(function(e,t){var n=[];e.forEach((function(e,t){a.collides(e)&&n.push(t)})),n.forEach((function(t){e.splice(t,1)})),t(n.length)})),Ce(Se(a),"die",(function(){a.endPlayer(),a.endGame()})),Ce(Se(a),"endPlayer",(function(){a.removeEventListeners(),a.controller&&(a.controller.removeElements(),delete a.controller)})),Ce(Se(a),"removeEventListeners",(function(){window.removeEventListener("keydown",a.handleKeyPress),window.removeEventListener("keyup",a.handleKeyUp),a.hasLazer&&(document.removeEventListener("mousemove",a.mouseListener),document.getElementById("world").removeEventListener("click",a.clickListener))})),a.color=o,a.endGame=i,a.keys=[],a.keyPressListener=window.addEventListener("keydown",(function(e){return a.handleKeyPress(e)})),a.keyUpListener=window.addEventListener("keyup",(function(e){return a.handleKeyUp(e)})),Ie.isTouchEnabled()&&(a.controller=new Ie(a.addKey,a.removeKey)),a.walkFrames=[];var c=new Image;c.src=U,a.walkFrames.push(c);var u=new Image;u.src=K,a.walkFrames.push(u);var s=new Image;s.src=J,a.walkFrames.push(s);var l=new Image;return l.src=$,a.walkFrames.push(l),a.image=a.walkFrames[0],a.walkPosition=0,a.allowUp=!0,a.extras=ge().filter((function(e){return e.bought&&e.equipped})),0==ue.length&&[V,W,Q,Z].forEach((function(e){var t=new Image;t.src=e,ue.push(t)})),a.hasJetPack=!1,a.hasLazer=!1,a.enableExtras(),a.lazerPos=[0,0],a.lazerPelets=[],a.shoot=!1,a.hasJetPack&&(a.jetpack=new se(59.75,0)),a.hasLazer&&(a.ammo=!0,a.lastShot=(new Date).getTime(),a.mouseListener=document.addEventListener("mousemove",a.updateLazer),a.clickListener=document.getElementById("world").addEventListener("click",a.shootLazer)),a}return n}(Y),Te=n.p+"609cdf72ac025ade992d24a30c221001.svg",Be=n.p+"457ca02408f9922b22afc522290a4047.svg",De=n.p+"4d92a69e3c94861cf62665e083a058fe.svg",ze=n.p+"bf1850c0e7b9464f45c2f3e89bf3be41.svg",qe=n.p+"6723a5d4e25c92a4664b3b5c465f8a8a.svg";function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xe(e);if(t){var o=Xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return He(this,n)}}function He(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?Ne(e):t}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ue=[],Ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(n,e);var t=Ge(n);function n(e,r,o){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Ye(Ne(i=t.call(this,e,r,50,50,3,.1,10)),"render",(function(e,t,n,r,o){i.inFrame(n,t)&&(i.forwardSpritesPosition=i.animate(i.forwardSprites,i.forwardSpritesPosition),e.drawImage(i.image,i.x-n[0]+o,i.y+n[1]+Math.floor(t.height/2)-r.height,i.width,i.height))})),Ye(Ne(i),"updateSprite",(function(e,t){i.velocityX+=i.acceleration,i.switchDirection(),i.jump(t),i.update(e,i.getRelevantGrounds(t))})),Ye(Ne(i),"switchDirection",(function(){Math.random()>.9&&(i.direction=-i.direction,i.acceleration=i.direction*i.velocity)})),Ye(Ne(i),"jump",(function(e){Math.random()>.9&&i.onGround(e)&&(i.velocityY=-5)})),i.color="black",i.direction=o,i.velocity=2,i.acceleration=i.direction*i.velocity,i.forwardSprites=Ue,i.forwardSpritesPosition=0,i.image=i.forwardSprites[0],i}return n}(Y);Ye(Ke,"sort",(function(e,t){return e.x-t.x}));var Je=n.p+"30bdb205cbec84bf901c2428a5c5a27a.svg",$e=n.p+"99aeb48ee0d38225c421fa5bc5f9da2c.svg",Ve=n.p+"9e30811989ac04b447425f6e15bd69af.svg",We=n.p+"66e7d0e03b712dae7d5ca369072a9a77.svg";function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ot(e);if(t){var o=ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nt(this,n)}}function nt(e,t){return!t||"object"!==Qe(t)&&"function"!=typeof t?rt(e):t}function rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function it(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var at=[],ct=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(n,e);var t=tt(n);function n(e,r){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return Ze(this,n),it(rt(o=t.call(this,e,r,2*i,2*i)),"render",(function(e,t,n,r,i){o.inFrame(n,t)&&(o.coinPosition=o.animate(o.sprites,o.coinPosition),e.drawImage(o.image,o.x-n[0]+i,o.y+n[1]+Math.floor(t.height/2)-r.height,2*o.radius,2*o.radius))})),it(rt(o),"animate",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2;return C(rt(o),e,t,n)})),o.radius=i,o.color="gold",o.sprites=at,o.image=o.sprites[0],o.coinPosition=0,o}return n}(c);function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st=function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ut(this,"addPauseBtn",(function(){var e=document.createElement("button");e.innerHTML="||",e.className="pause__btn",e.addEventListener("click",o.pauseGame),o.pauseDiv.appendChild(e)})),ut(this,"pauseGame",(function(){o.pause(),o.showMenu()})),ut(this,"showMenu",(function(){var e=document.createElement("div");e.className="pause__menu";var t=document.createElement("button");t.className="pause__menu__btn",t.innerHTML="Resume",t.addEventListener("click",o.resume),e.appendChild(t);var n=document.createElement("button");n.className="pause__menu__btn",n.innerHTML="Go Home",n.addEventListener("click",o.goHome),e.appendChild(n),o.pauseDiv.appendChild(e),document.querySelector(".pause__btn").remove()})),ut(this,"hideMenu",(function(){document.querySelector(".pause__menu").remove(),o.addPauseBtn()})),ut(this,"resume",(function(){o.hideMenu(),o.unPause()})),ut(this,"goHome",(function(){o.hideMenu(),o.exit()})),ut(this,"remove",(function(){o.pauseDiv.remove()})),this.pauseDiv=document.createElement("div"),this.pauseDiv.className="pause",this.unPause=n,this.pause=t,this.exit=r,this.addPauseBtn(),document.body.appendChild(this.pauseDiv)},lt=n.p+"a7966d5285aacdf37b6d9853ecf73812.svg",ft=n.p+"7bbbcb9a6c678a8ad051fd6ad35278e6.svg",dt=n.p+"9c5304a3f3c0079d7d4132a40a554f67.svg";function pt(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ht(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yt(e){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_t(e);if(t){var o=_t(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wt(this,n)}}function wt(e,t){return!t||"object"!==yt(t)&&"function"!=typeof t?xt(e):t}function xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pt=[],Et=function(e){vt(n,e);var t=gt(n);function n(e,r,o){var i;return mt(this,n),Ot(xt(i=t.call(this,e,r,10,10)),"update",(function(e){i.y+=e*i.velocity*Math.sin(i.theta),i.x+=e*i.velocity*Math.cos(i.theta)})),Ot(xt(i),"render",(function(e,t,n,r,o){e.fillStyle="orange",e.beginPath(),e.arc(i.x-n[0]+o,i.y+n[1]+Math.floor(t.height/2)-r.height,i.width,0,2*Math.PI),e.closePath(),e.fill()})),i.theta=o,i.velocity=.2,i}return n}(c),St=function(e){vt(n,e);var t=gt(n);function n(e,r){var o;return mt(this,n),Ot(xt(o=t.call(this,e,r,128.7,99,2,1,10)),"render",(function(e,t,n,r,i){o.inFrame(n,t)&&(e.fillStyle="green",o.spritePos=o.animate(o.sprites,o.spritePos,.2),e.drawImage(o.image,o.x-n[0]+i,o.y+n[1]+Math.floor(t.height/2)-r.height,o.width,o.height),o.shoot());var a,c=pt(o.pellets);try{for(c.s();!(a=c.n()).done;){var u=a.value;if(u.render(e,t,n,r,i),r&&u.collides(r))return r.die(),delete o.pellets,!1}}catch(e){c.e(e)}finally{c.f()}return!0})),Ot(xt(o),"updateSprite",(function(e,t){o.update(e,[],!1),o.velocityY=0,o.switchDirection();var n=[];we(o.pellets,(function(e,t){return e.x-t.x}));for(var r=o.pellets.length>0?t.filter((function(e){return e.x+e.width>=o.pellets[0].x&&e.x<=o.pellets[o.pellets.length-1].x+o.pellets[o.pellets.length-1].width})):[],i=0;i<o.pellets.length;i++){var a=o.pellets[i];a.update(e);for(var c=0;c<r.length;c++)if(r[c].collides(a)){n.push(i);break}}n.forEach((function(e){return o.pellets.splice(e,1)})),o.velocityX=o.acceleration*o.direction})),Ot(xt(o),"switchDirection",(function(){Math.random()>.95&&(o.direction=-o.direction),o.x<o.minX&&(o.direction=1),o.x>o.maxX&&(o.direction=-1)})),Ot(xt(o),"shoot",(function(){if(Math.random()>.99){var e=new Et(o.x+o.width/2,o.y+o.height,Math.random()*Math.PI*4/6+Math.PI/6);o.pellets.push(e)}})),o.direction=Math.random()>.5?1:-1,o.minX=e-5e3,o.maxX=e+5e3,o.pellets=[],o.sprites=Pt,o.image=Pt[0],o.spritePos=0,o}return n}(Y);function kt(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Mt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function jt(e){return function(e){if(Array.isArray(e))return Ct(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Mt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(e,t){if(e){if("string"==typeof e)return Ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ct(e,t):void 0}}function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rt=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Lt(this,"animate",(function(){var e=(new Date).getTime(),n=e-t.lastUpdate;t.lastUpdate=e,t.paused||(t.renderBackground(),t.player&&t.renderLandscapes(n),t.player&&t.player.updateSprite(n,t.grounds,t.updateCameraOffset,t.initialPlayerPosition),t.player&&t.player.render(t.canvas,t.context,t.cameraOffset),t.player&&t.player.killRobots(t.robots),t.player&&t.player.lazerKill(t.robots,t.ufos),t.player&&t.player.collectCoins(t.coins,t.incrementScore),t.renderScore()),t.over||(t.loop=window.requestAnimationFrame(t.animate))})),Lt(this,"renderScore",(function(){t.context.font="50px Avenir",t.context.fillStyle=t.textColor,t.context.fillText(t.score,t.canvas.width-50,50)})),Lt(this,"renderBackground",(function(){t.sky.render(t.context,t.canvas,t.cameraOffset)})),Lt(this,"generateLandscape",(function(){t.grounds=[];var e=0,n=100;t.robots=[],t.coins=[],t.ufos=[];for(var r=0;r<80;r++){var o=Math.floor(8*Math.random())+6,i=50*e,a=!1;t.grounds.push(new M(i,n,o));for(var c=0;c<o;c++)if(!a&&Math.random()>.95){a=!0;var u=new ct(i+50*c,n-50,25);t.coins.push(u)}if(Math.random()>.5&&r>1){var s=new Ke(i,n-50,1);t.robots.push(s)}if(Math.random()>.5&&r>1){var l=new St(i,n-.5*t.canvas.height);t.ufos.push(l)}n+=Math.floor(300*Math.random())-150,e+=o}t.combinedGeometries=[].concat(jt(t.robots),jt(t.coins),jt(t.grounds))})),Lt(this,"renderLandscapes",(function(e){var n,r=kt(t.grounds);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.inFrame(t.cameraOffset,t.canvas))o.render(t.context,t.canvas,t.cameraOffset,t.player,t.initialPlayerPosition);else if(o.toRightOfFrame(t.cameraOffset,t.canvas))break}}catch(e){r.e(e)}finally{r.f()}we(t.robots,(function(e,t){return Ke.sort(e,t)}));var i,a=kt(t.robots);try{for(a.s();!(i=a.n()).done;){var c=i.value;if(c.updateSprite(e,t.grounds),c.render(t.context,t.canvas,t.cameraOffset,t.player,t.initialPlayerPosition),c.toRightOfFrame(t.cameraOffset,t.canvas))break}}catch(e){a.e(e)}finally{a.f()}var u,s=kt(t.coins);try{for(s.s();!(u=s.n()).done;){var l=u.value;if(l.inFrame(t.cameraOffset,t.canvas))l.render(t.context,t.canvas,t.cameraOffset,t.player,t.initialPlayerPosition);else if(l.toRightOfFrame(t.cameraOffset,t.canvas))break}}catch(e){s.e(e)}finally{s.f()}var f,d=kt(t.ufos);try{for(d.s();!(f=d.n()).done;){var p=f.value;if(p.updateSprite(e,t.combinedGeometries),!p.render(t.context,t.canvas,t.cameraOffset,t.player,t.initialPlayerPosition))break}}catch(e){d.e(e)}finally{d.f()}})),Lt(this,"updateCameraOffset",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.cameraOffset[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.cameraOffset[1];t.cameraOffset=[e,n]})),Lt(this,"incrementScore",(function(e){t.score+=e})),Lt(this,"terminate",(function(){t.pause&&t.pause.remove(),window.cancelAnimationFrame(t.loop),t.over=!0,delete t.grounds,delete t.pause,delete t.sky,delete t.coins,delete t.robots,delete t.ufos,delete t.pause,delete t.combinedGeometries})),Lt(this,"endGame",(function(){t.terminate(),delete t.player,me(t.score),Ut(t.score)})),this.canvas=document.getElementById("world"),this.context=this.canvas.getContext("2d"),this.canvas.style.display="block",this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.lastUpdate=(new Date).getTime(),this.cameraOffset=[0,Math.floor(this.canvas.height/2)],this.sky=new i(this.canvas),this.initialPlayerPosition=50,this.generateLandscape(),this.player=this.initializePlayer(),this.loop=window.requestAnimationFrame(this.animate),this.over=!1,this.score=0,this.paused=!1,this.textColor="#ececec",this.pause=new st((function(){return t.paused=!0}),(function(){return t.paused=!1}),(function(){t.terminate(),t.player.endPlayer(),delete t.player,Xt()}))}var t,n,r;return t=e,(n=[{key:"initializePlayer",value:function(){return new Re(this.initialPlayerPosition,-300,"red",this.endGame)}}])&&It(t.prototype,n),r&&It(t,r),e}(),Tt=(n(1),document.getElementById("playButton")),Bt=document.getElementById("mainMenu"),Dt=document.getElementById("world"),zt=document.getElementById("gameOver"),qt=document.getElementById("playAgain"),At=document.getElementById("gameOverScore"),Ft=document.getElementById("storeButton"),Gt=document.getElementById("store"),Ht=document.getElementById("gameOverHome"),Nt=function(e){" "===e.key&&Yt()};window.addEventListener("keypress",Nt,{once:!0}),window.onload=function(){[Te,Be,De,ze,qe].forEach((function(e){var t=new Image;t.src=e,Ue.push(t)})),S.src=y,k.src=m,j.src=v,function(){var e=new Image;e.src=lt;var t=new Image;t.src=ft;var n=new Image;n.src=dt,Pt.push(e),Pt.push(t),Pt.push(n),Pt.push(t)}(),function(){var e=new Image;e.src=Je;var t=new Image;t.src=$e;var n=new Image;n.src=Ve;var r=new Image;r.src=We,at=[e,t,n,r,n,t]}(),Xt()},Tt.addEventListener("click",(function(e){Yt()})),qt.addEventListener("click",(function(e){Yt()}));var Xt=function(){Bt.style.display="grid",zt.style.display="none",Dt.style.display="none";var e=document.querySelector(".pause");e&&e.remove()},Yt=function(){window.removeEventListener("keypress",Nt),Bt.style.display="none",zt.style.display="none",Dt.style.display="block",new Rt},Ut=function(e){zt.display="flex",Dt.style.display="none",zt.style.display="flex",At.innerHTML=e,window.addEventListener("keypress",Nt,{once:!0})};Ft.addEventListener("click",(function(e){Gt.style.display="flex",window.removeEventListener("keypress",Nt),Bt.style.display="none",new ye})),Ht.addEventListener("click",(function(e){Xt()}));var Kt=function(){Gt.style.display="none",Xt()}}]);